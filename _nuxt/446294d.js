(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{276:function(t,e,l){"use strict";l.r(e);l(9),l(23),l(32),l(68),l(69),l(2),l(143),l(15),l(19),l(20),l(54),l(42),l(3),l(55),l(59),l(46);var n=l(83),r=l.n(n);function o(t,e){var l="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!l){if(Array.isArray(t)||(l=function(t,e){if(!t)return;if("string"==typeof t)return c(t,e);var l=Object.prototype.toString.call(t).slice(8,-1);"Object"===l&&t.constructor&&(l=t.constructor.name);if("Map"===l||"Set"===l)return Array.from(t);if("Arguments"===l||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l))return c(t,e)}(t))||e&&t&&"number"==typeof t.length){l&&(t=l);var i=0,n=function(){};return{s:n,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,d=!1;return{s:function(){l=l.call(t)},n:function(){var t=l.next();return o=t.done,t},e:function(t){d=!0,r=t},f:function(){try{o||null==l.return||l.return()}finally{if(d)throw r}}}}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,l=new Array(e);i<e;i++)l[i]=t[i];return l}var d={data:function(){return{lists_text:"",select_list:"",lists:[],select_lists:[],start_time:new Date,interval_id:"",exit_flg:!1,process_flg:!1,time:10,alert_message:null,rulet_button_text:"抽選スタート"}},methods:{reset:function(){this.lists_text="",this.select_list="",this.lists=[],this.select_lists=[],document.getElementById("alert-message").style="display:none;",this.alert_message=null},getGasData:function(t){var e=this;this.process_flg=!0,this.reset();r.a.get("https://script.google.com/macros/s/AKfycbwWUYLMDm9L6Ai4IqRHtwe4VDGjj9vXoME89kR4b9e-x5lzSCOorPvePdu4phEBjq-n/exec").then((function(l){return e.inputGasData(l.data,t)}))},inputGasData:function(t,e){var l,n=o(t);try{for(n.s();!(l=n.n()).done;){var r=l.value;r.title&&((!1===e&&0===r.selected_flg||!0===e)&&(this.lists_text&&(this.lists_text+="\n"),this.lists_text+=r.title))}}catch(t){n.e(t)}finally{n.f()}this.convertList(),this.process_flg=!1},convertList:function(){this.lists=this.lists_text.split(/\n/)},checkSeconds:function(t){return!(new Date-this.start_time<=1e3*t)},rulet:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];!0===this.check()&&(!0===t&&(this.start_time=new Date,this.interval_id=null,this.exit_flg=!1,this.process_flg=!0,this.$set(this,"rulet_button_text","抽選中")),this.random(),!0!==t||this.interval_id||(this.interval_id=setInterval(this.rulet,100)),(this.checkSeconds(this.time)||!0===this.exit_flg)&&(clearInterval(this.interval_id),this.select_lists.push(this.select_list),this.process_flg=!1,this.$set(this,"rulet_button_text","抽選スタート")))},random:function(){var t;t=Math.floor(Math.random()*this.lists.length),this.select_lists.length>0?!1===this.select_lists.includes(this.lists[t])&&this.$set(this,"select_list",this.lists[t]):this.$set(this,"select_list",this.lists[t]),1===this.lists.length&&(this.exit_flg=!0)},check:function(){var t=this;return this.lists_text?(0!==this.lists.length&&this.lists.forEach((function(e,l){if(0===t.select_lists.length)return document.getElementById("alert-message").style="display:none;",t.$set(t,"alert_message",null),!0;!0===t.select_lists.includes(e)&&t.lists.splice(l,1)})),0===this.lists.length?(document.getElementById("alert-message").style="",this.$set(this,"alert_message","全ての注文リストが注文済みです"),!1):(document.getElementById("alert-message").style="display:none;",this.$set(this,"alert_message",null),!0)):(document.getElementById("alert-message").style="",this.$set(this,"alert_message","注文リストが入力されていません"),!1)}}},h=l(60),component=Object(h.a)(d,(function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("div",{staticClass:"container",attrs:{id:"list"}},[l("div",{staticClass:"row alert alert-danger",staticStyle:{display:"none"},attrs:{id:"alert-message",role:"alert"}},[t._v(t._s(t.alert_message))]),t._v(" "),l("div",{staticClass:"form-row"},[l("div",{staticClass:"form-group col-6"},[l("label",{attrs:{for:"text-list"}},[t._v("注文リスト")]),t._v(" "),l("textarea",{directives:[{name:"model",rawName:"v-model",value:t.lists_text,expression:"lists_text"}],staticClass:"form-control",attrs:{id:"text-list",disabled:t.process_flg},domProps:{value:t.lists_text},on:{change:t.convertList,input:function(e){e.target.composing||(t.lists_text=e.target.value)}}})])]),t._v(" "),l("div",{staticClass:"form-row",staticStyle:{"padding-top":"15px"}},[l("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:t.process_flg},on:{click:function(e){return t.getGasData(!0)}}},[t._v("\n      GASから(全件)\n    ")]),t._v(" "),l("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:t.process_flg},on:{click:function(e){return t.getGasData(!1)}}},[t._v("\n      GASから取得(未選択のみ)\n    ")])]),t._v(" "),l("div",{staticClass:"form-row",staticStyle:{"padding-top":"15px"}},[l("div",{staticClass:"form-group col-1"},[l("input",{directives:[{name:"model",rawName:"v-model",value:t.time,expression:"time"}],staticClass:"form-control",attrs:{id:"time",disabled:t.process_flg,type:"number",min:"1"},domProps:{value:t.time},on:{input:function(e){e.target.composing||(t.time=e.target.value)}}})]),t._v(" "),l("label",{staticClass:"col-form-label",attrs:{for:"time"}},[t._v("秒")])]),t._v(" "),l("div",{staticClass:"form-row",staticStyle:{"padding-top":"15px"}},[l("button",{staticClass:"btn btn-primary",attrs:{type:"button",id:"rulet-button",disabled:t.process_flg},on:{click:function(e){return t.rulet(!0)}}},[t._v("\n      "+t._s(t.rulet_button_text)+"\n    ")])]),t._v(" "),l("div",{staticClass:"form-row",staticStyle:{"padding-top":"15px"}},[l("button",{staticClass:"btn btn-primary",attrs:{type:"button",id:"rulet-button",disabled:t.process_flg},on:{click:function(e){return t.reset()}}},[t._v("\n      リセット\n    ")])]),t._v(" "),l("div",{staticClass:"row",staticStyle:{"padding-top":"15px"}},[l("div",{staticClass:"card col-8"},[l("div",{staticClass:"card-body"},[l("h5",{staticClass:"card-title"},[t._v("\n          ご注文は・・・\n        ")]),t._v(" "),l("h1",{staticClass:"card-text",attrs:{id:"card-text-order"}},[t._v(t._s(t.select_list))])])]),t._v(" "),l("div",{staticClass:"card col-4"},[l("div",{staticClass:"card-body"},[l("h5",{staticClass:"card-title"},[t._v("\n          注文済みリスト\n        ")]),t._v(" "),l("p",{staticClass:"card-text",staticStyle:{"white-space":"pre-line"},attrs:{id:"card-text-ordered"}},[t._v(t._s(t.select_lists.join("\n")))])])])])])}),[],!1,null,null,null);e.default=component.exports}}]);